<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Privilege Modes | Nintendo 3DS ARM Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./the_apsr,_cpsr,_and_the_difference_between_them.html" />
    
    
    <link rel="prev" href="./registers.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="0.2.2" data-basepath="." data-revision="1431385970509">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="0.1" data-path="terminology.html">
            
                
                    <a href="./terminology.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.1.</b>
                        
                         Terminology
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="0.2" data-path="about_the_3ds.html">
            
                
                    <a href="./about_the_3ds.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.</b>
                        
                         About the 3DS CPU(s)
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="0.2.1" data-path="registers.html">
            
                
                    <a href="./registers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.1.</b>
                        
                         Core Registers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="0.2.2" data-path="privilege_modes.html">
            
                
                    <a href="./privilege_modes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.2.</b>
                        
                         Privilege Modes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="0.2.3" data-path="the_apsr,_cpsr,_and_the_difference_between_them.html">
            
                
                    <a href="./the_apsr,_cpsr,_and_the_difference_between_them.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.3.</b>
                        
                         The APSR, CPSR, SPSR, and the Difference Between Them
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="0.2.3.1" data-path="apsr_and_cpsr_flags.html">
            
                
                    <a href="./apsr_and_cpsr_flags.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.3.1.</b>
                        
                         APSR and CPSR Flags
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="vfp/README.html">
            
                
                    <a href="./vfp/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         VFP
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="vfp/enabling_flush-to-zero_mode.html">
            
                
                    <a href="./vfp/enabling_flush-to-zero_mode.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Flush-To-Zero Mode
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="vfp/default_nan.html">
            
                
                    <a href="./vfp/default_nan.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Default NaN Mode
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <a href="./GLOSSARY.html" class="btn pull-left" aria-label="Open Glossary"><i class="fa fa-sort-alpha-asc"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Nintendo 3DS ARM Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_790">
                    
                        <h1 id="privilege-modes">Privilege Modes</h1>
<p>ARM processors have privilege modes which allow preventing certain operations by an executing process. The privilege modes the CPUs in the 3DS have are the following:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>User</td>
<td>Unprivileged mode. Applications normally run in this mode</td>
</tr>
<tr>
<td>System</td>
<td>Runs applications with elevated privileges. System mode can be viewed as a cross between user and supervisor modes. It provides the privileges of supervisor mode, but shares registers with user mode.</td>
</tr>
<tr>
<td>FIQ</td>
<td>ARM processors have two types of interrupt types: regular interrupts, and fast interrupts (FIQs). The only difference between fast interrupts and normal interrupts is that fast interrupts can interrupt regular interrupts (kind of a mouthful to say). Since ARM processors do not have non-maskable interrupts (NMIs), FIQs can be disabled when necessary. Interrupts that need to complete very quickly will use this mode.</td>
</tr>
<tr>
<td>IRQ</td>
<td>Regular interrupt mode. Interrupts that are not time-critical (not requiring clock timing accuracy) will normally use this mode.</td>
</tr>
<tr>
<td>Supervisor</td>
<td>Privileged mode for the operating system.</td>
</tr>
<tr>
<td>Abort</td>
<td>This mode is entered whenever an abort exception occurs.</td>
</tr>
<tr>
<td>Undefined</td>
<td>This mode is entered whenever an undefined instruction exception is signalled. Normally whenever an undefined instruction exception is encountered, the ARM processor will wait and see if any coprocessors are able to handle the instruction. If not, then the undefined instruction vector is taken. Some software can actually utilize this form of exception handling to software emulate undefined coprocessor instructions</td>
</tr>
</tbody>
</table>
<p>On the ARM11 MPCore both cores run in <em>user mode</em>. In user mode, access to certain other registers is not possible (such as a majority of the registers in the CP15 coprocessor). It isn&#39;t possible to explicitly switch to a higher privileged mode from user mode.</p>
<p>Note that each mode can also have it&#39;s own registers that &#39;shadow&#39; the original core 15 registers. These are known as <em>banked registers</em>. These registers are automatically brought into &#39;view&#39; (possible to read/write to) whenever the processor changes into modes that have these registers.</p>
<p>Which registers are to be shadowed in a processor mode are different. The table below depicts the registers shadowed per mode in the ARM11 MPCore.</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Shadowed Registers</th>
</tr>
</thead>
<tbody>
<tr>
<td>User</td>
<td>No shadowed registers</td>
</tr>
<tr>
<td>System</td>
<td>Shares registers with user mode</td>
</tr>
<tr>
<td>Supervisor</td>
<td>SP, LR, CPSR</td>
</tr>
<tr>
<td>Abort</td>
<td>SP, LR, CPSR</td>
</tr>
<tr>
<td>Undefined</td>
<td>SP, LR, CPSR</td>
</tr>
<tr>
<td>IRQ</td>
<td>SP, LR, CPSR</td>
</tr>
<tr>
<td>FIQ</td>
<td>R8, R9, R10, R11, R12, SP, LR, CPSR</td>
</tr>
</tbody>
</table>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./registers.html" class="navigation navigation-prev " aria-label="Previous page: Core Registers"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./the_apsr,_cpsr,_and_the_difference_between_them.html" class="navigation navigation-next " aria-label="Next page: The APSR, CPSR, SPSR, and the Difference Between Them"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
